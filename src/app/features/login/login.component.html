<div class="login-wrapper">
    
    <!-- LEFT IMAGE SECTION -->
    <div class="login-left">
        <img src="assets/images/download.jpg" alt="login background">
    </div>

    <!-- RIGHT FORM SECTION -->
    <div class="login-right">

        <!-- Login Form -->
        <div class="login-card" *ngIf="isLogin">
            <div class="brand-box">
                <span class="brand-text">
                    brain<span class="plus">+</span>spine <span class="plus">+</span>
                    <span class="pain">pain</span>
                </span>
                <img src="assets/logo/logobrainspine.png" class="brand-logo" alt="logo">
            </div>


            <h2>Sign In</h2>
            <p style="margin-bottom: 25px;">Please login to continue</p>

            <form>
                <div class="form-group">
                    <label>Email</label>
                    <input type="text" [(ngModel)]="loginData.email" name="email" placeholder="Enter your User name">
                </div>

                <div class="form-group">
                    <label>Password</label>
                    <input type="password" [(ngModel)]="loginData.password" name="password" placeholder="Enter your password">
                </div>

                <button type="button" (click)="onLogin()" [disabled]="isLoading">
                    <span *ngIf="!isLoading">Login â†’</span>
                    <span *ngIf="isLoading">Logging in...</span>
                </button>
            </form>

            <p style="display: none;" class="switch">Don't have an account?
                <a (click)="onSignup(); $event.preventDefault()">Sign Up</a>
            </p>
        </div>

        <!-- Signup Form -->
        <div class="login-card" *ngIf="!isLogin">
            <img src="assets/logo/logobrainspine.png" class="brand-logo" alt="logo">
            <h2>Create Account</h2>

            <div class="scroll-area">
                <form>
                    <div class="form-group">
                        <label>First Name</label>
                        <input type="text" [(ngModel)]="signUpData.firstname" name="firstName" placeholder="Enter First name">
                    </div>

                    <div class="form-group">
                        <label>Last Name</label>
                        <input type="text" [(ngModel)]="signUpData.lastName" name="lastName" placeholder="Enter Last name">
                    </div>

                    <div class="form-group">
                        <label>Email</label>
                        <input type="email" [(ngModel)]="signUpData.email" name="email" placeholder="Enter your Email">
                    </div>

                    <div class="form-group">
                        <label>Select Role</label>
                        <select [(ngModel)]="signUpData.role" name="role">
                            <option [ngValue]="null" disabled>Select your role</option>
                            <option *ngFor="let role of roles" [value]="role.id">
                                {{ role.name }}
                            </option>
                        </select>
                    </div>
                    <div class="form-group">
                                    <label for="password">Password</label>
                                    <div class="password-wrapper">
                                        <input
                                        type="{{ showPassword ? 'text' : 'password' }}"
                                        id="password"
                                        name="password"
                                        [(ngModel)]="signUpData.password"
                                        class="form-control"
                                        placeholder="Enter your password"
                                        required
                                        pattern="^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$"
                                        #password="ngModel"
                                        />
                                        <i class="fa" [ngClass]="showPassword ? 'fa-eye-slash' : 'fa-eye'" (click)="showPassword = !showPassword"></i>
                                    </div>

                                    <div *ngIf="password.invalid && password.touched" class="error-banner">
                                        <p *ngIf="password.errors?.['required']">Password is required.</p>
                                        <p *ngIf="password.errors?.['pattern']">
                                        Password must have at least 8 characters, including uppercase, lowercase, number & special character.
                                        </p>
                                    </div>
                                    </div>
                    <div class="form-group">
                    <label for="confirmPassword">Confirm Password</label>
                    <div class="password-wrapper">
                        <input
                        type="{{ showConfirmPassword ? 'text' : 'password' }}"
                        id="confirmPassword"
                        name="confirmPassword"
                        [(ngModel)]="signUpData.confirmpassword"
                        class="form-control"
                        placeholder="Confirm your password"
                        required
                        #confirmPassword="ngModel"
                        />
                        <i class="fa" [ngClass]="showConfirmPassword ? 'fa-eye-slash' : 'fa-eye'"
                        (click)="showConfirmPassword = !showConfirmPassword"></i>
                    </div>

                    <div *ngIf="signUpData.confirmpassword && signUpData.confirmpassword !== signUpData.password" class="error-banner">
                        Passwords do not match.
                    </div>
                    </div>


                    <button type="button" (click)="SignUp()" [disabled]="isLoading">
                        Create Account
                    </button>
                </form>
            </div>

            <p class="switch">Already have an account?
                <a (click)="onLogIn(); $event.preventDefault()">Login</a>
            </p>
        </div>

    </div>
</div>
